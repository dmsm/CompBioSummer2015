{% extends "layout.html" %}

{% block content %}

    <style>
        .carousel-inner > .item > img,
        .carousel-inner > .item > a > img {
            width: 90%;
            margin: auto;
        }

        .carousel-fade .carousel-inner .item {
            opacity: 0;
            transition-property: opacity;
        }

        .carousel-fade .carousel-inner .active {
            opacity: 1;
        }

        .carousel-fade .carousel-inner .active.left,
        .carousel-fade .carousel-inner .active.right {
            left: 0;
            opacity: 0;
            z-index: 1;
        }

        .carousel-fade .carousel-inner .next.left,
        .carousel-fade .carousel-inner .prev.right {
            opacity: 1;
        }

        .carousel-fade .carousel-control {
            z-index: 2;
        }
    </style>

    <div id="display">
        <i class="fa fa-spinner fa-spin"></i>
    </div>
    <br>
    <div class="alert alert-success" role="alert">
        <center>
            <strong>Warning!</strong>
            Exiting this page causes all data to be lost! Please download the reconciliations if you wish to keep them.
    </div>
    </center>
    </div>
    <script>
    function refresh() {
        $.get("status/{{ task_id }}", function(data) {
           if (data != "PENDING") {
               $('#display').html(data);
           }
        });
        else {
            setTimeout(refresh, 10);
        }
    }
    refresh();
    </script>
{% endblock %}

