{% extends "layout.html" %}

{% block content %}

    <style>
        .carousel-inner > .item > img,
        .carousel-inner > .item > a > img {
            width: 90%;
            margin: auto;
        }

        .carousel-fade .carousel-inner .item {
            opacity: 0;
            transition-property: opacity;
        }

        .carousel-fade .carousel-inner .active {
            opacity: 1;
        }

        .carousel-fade .carousel-inner .active.left,
        .carousel-fade .carousel-inner .active.right {
            left: 0;
            opacity: 0;
            z-index: 1;
        }

        .carousel-fade .carousel-inner .next.left,
        .carousel-fade .carousel-inner .prev.right {
            opacity: 1;
        }

        .carousel-fade .carousel-control {
            z-index: 2;
        }
    </style>
    <div class="alert alert-success" role=alert">
    <center>

        <h1>Results</h1>

        <h4>
            Duplication Cost: {{ dup }}, Transfer cost: {{ trans }}, Loss cost: {{ loss }}<br>
            Maximum parsimony cost: {{ total_cost }}<br>
            Your scoring method: {{ score_method }}, Total sum of scores: {{ total_freq }} <br>
            Total Number of Optimal Reconciliations: {{ total_recon }}
        </h4>
    </center>
    </div>
    <center>
        <img src="/static/key.png" height="45" width="800">
        <br>
        <br>
    </center>

    <div id="results" class="carousel slide carousel-fade" data-interval="false">
        <ol class="carousel-indicators">
            {% for _ in results_lsit %}
            <li data-target="#results" data-slide-to="{{ loop.index0 }}"{% if loop.first %} class="active"{% endif %}></li>
            {% endfor %}
        </ol>
        <div class='carousel-inner' role='listbox'>
            {% for score, percent, running_tot in results_list %}
            <div class='item{% if loop.first %} active{% endif %}'>
                <img src='/uploads/{{ raw_name }}{{ loop.index0 }}.svg' alt='First slide' width='460' height='345'>
                <div class='carousel-caption'>
                    <h3>Reconciliation {{ loop.index }} of {{ loop.length }}</h3>
                    <p>Score = {{ score }}<br>Percent of total = {{ percent }}%<br>Running total = {{ percent }}%
                    </p>
                </div>
            </div>
            {% endfor %}
        </div>
        <a class="left carousel-control" href="#results" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#results" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <br>
    <div class="alert alert-success" role="alert">
        <center>
            <strong>Warning!</strong>
            Exiting this page causes all data to be lost! Please download the reconciliations if you wish to keep them.
    </div>
    </center>
    </div>
{% endblock %}

